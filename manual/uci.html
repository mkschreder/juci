<!DOCTYPE html>
<html>
	<head>
		<title>JUCI WebGUI Documentation Manual</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	</head>
	<body style="font-family: sans; font-size: 1.5em">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="juci.html">JUCI Docs</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav navbar-right">
					</ul>
					<!--<form class="navbar-form navbar-right">
						<input type="text" class="form-control" placeholder="Search...">
					</form>-->
				</div>
			</div>
		</nav>
		<div class="container" style="padding-top: 60px;">
			<div class="row">
				<div class="col-md-3 sidebar">
					<ul class="nav nav-sidebar">
						<li><a href="juci.html">Overview</a></li>
						<li><a href="creating-backend-scripts.html">Creating Backend</a></li>
						<li><a href="creating-pages.html">Creating Pages</a></li>
						<li><a href="creating-themes.html">Creating Themes</a></li>
					</ul>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- juci left -->
					<ins class="adsbygoogle"
						 style="display:inline-block;width:160px;height:600px"
						 data-ad-client="ca-pub-0092476366635849"
						 data-ad-slot="9060201735"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>		
				</div>
				<div class="col-md-7 main">
					
<div class='mp'>
<h1>$uci factory</h1>
<p>UCI interface simplifies your access to the uci subsystem through the
javascript interface. This library uses $rpc service underneath to issue rpc
calls to the uci object on the backend (implemented in rpcd).</p>

<p>This module will load all of the uci configs into local browser memory so that
you can just modify uci settings as though they were ordinary variables.</p>

<p>The UCI subsystem consists of a number of objects:</p>

<ul>
<li>UCI - main subsystem</li>
<li>UCIConfig - interface to a uci config</li>
<li>UCISection - interface to a config section</li>
<li>UCIField - a field inside a uci section</li>
</ul>


<h2 id="UCI-methods">UCI methods</h2>

<pre><code>$init: function() -&gt; promise
    Initializes UCI subsystem and populates the list of configs with all
    available configs. UBUS subsystem has to already be initialized. 

$registerConfig: function(name) -&gt; none
    Registers a config with UCI subsystem. This does not create any config
    file on the system or modify any UCI settings. It merely tells the uci
    system that this config exists so that it can be accessed through the
    $uci.&lt;config> interface. This method is used to register config schemas
    in plugins in order to tell UCI how to interpret a configuration file.  

$sync: function(name|list[name]) -&gt; promise
    Synchronizes the given config from uci with local representation of the
    data. This method should be called before any sections can be accessed
    though $uci.config.&lt;section> interface. Usually you would call this
    method before changing any uci settings. 

$revert: function() -&gt; promise
    Reverts all currently loaded configs. This will actually call uci
    revert on each config in series. If you want to revert a specific
    config then call $uci.&lt;config>.$revert() instead. 

$rollback: function() -&gt; promise
    Calls uci rollback method. This rolls back all current uci changes
    using a single call (while $revert needs a config parameter).  

$apply: function() -&gt; promise
    Calls uci apply. You don't actually need to use this method because
    $uci.$save does the same thing but much better.  

$save: function() -&gt; promise
    This method goes through all currently loaded configs and calculates
    the changes that have been made. After it has a list of changes, it
    calls uci set for each configuration file that has been changed and
    finally saves the changes to uci. You should call this method when you
    are done with editing uci configuration and want to save your changes. 
</code></pre>

</div>
				</div>
				<div class="col-md-2">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				<!-- JUCI -->
				<ins class="adsbygoogle"
					 style="display:inline-block;width:300px;height:600px"
					 data-ad-client="ca-pub-0092476366635849"
					 data-ad-slot="4270075334"></ins>
				<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
				</script>				
				</div>
			</div>
		</div>	
		<script src="http://code.jquery.com/jquery.js"></script>
		<script src="js/bootstrap.min.js"></script>
	</body>
</html>
